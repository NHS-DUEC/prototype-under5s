{% set page = {
  title: 'Layout - 111 Prototype Kit Docs',
  layout: {
    content_secondary: {
      visible: true
    }
  }
} %}

{% extends page.layout.file | d(layouts.base) %}

{% block main %}

  <div class="nhsuk-width-container {{ containerClasses }}">
    <div class="nhsuk-main-wrapper {{ mainclasses }}">

      {{ backLink({
        href: "../",
        text: "Go back",
        classes: 'nhsuk-u-margin-bottom-4'
      }) }}

      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">
          <span class="nhsuk-caption-xl">
            111 Prototype Kit
          </span>
          <h1 class="nhsuk-heading-xl">
            Layout
          </h1>
          <p>NHS 111 Online uses standard <a href="https://service-manual.nhs.uk/design-system/styles/layout">layouts</a> fron the <a href="https://service-manual.nhs.uk/design-system">NHSUK Design System</a>.</p>
          <p>To make prototyping easier we have extended the <a href="https://github.com/nhsuk/nhsuk-frontend/blob/main/packages/template.njk">NHSUK Frontend Nunjucks template</a> to include additional 'blocks' in commonly used places.</p>
          <p>These underlying blocks are the basis for creating precomposed 'layout' templates for common patterns used across the <a href="https://111.nhs.uk">111 Online service</a>.</p>
          <hr class="nhsuk-section-break nhsuk-section-break--l nhsuk-section-break--visible">
          <h2 class="nhsuk-heading-l">Block structure</h2>
          <p>The following is representative of the block structure we have created for 111 Online prototypes.</p>
        </div>
      </div>

    </div>
  </div>

  <div class="prototype-block-highlight" style="border-color:darkgreen">
    <div style="color: darkgreen;">{% raw %}{% block main %}{% endraw %}</div>
    {% block main_header %}
      <div class="prototype-block-highlight" style="border-color:orangered; color:orangered;">{% raw %}{% block main_header %}{% endblock main_header %}{% endraw %}</div>
    {% endblock main_header %}

    <div class="nhsuk-width-container {{ containerClasses }}">
      <main class="nhsuk-main-wrapper {{ mainclasses }}" id="maincontent" role="main">
        {% block main_body %}
        <div class="prototype-block-highlight" style="border-color:orangered; color:orangered;">
          <div style="color:orangered;">{% raw %}{% block main_body %}{% endraw %}</div>
          {% block beforeContent %}<div class="prototype-block-highlight" style="border-color:darkmagenta; color:darkmagenta;">{% raw %}{% block beforeContent %}{% endblock beforeContent %}{% endraw %}</div>{% endblock beforeContent %}
          {% block content %}
          <div class="prototype-block-highlight" style="border-color: #4314de; color: 4314de;">
            <div style="color: #4314de;">{% raw %}{% block content %}{% endraw %}</div>
            {% block content_header %}
            <div class="prototype-block-highlight" style="border-color: darkred; color: darkred;">{% raw %}{% block content_header %}{% endblock content_header %}{% endraw %}</div>
            {% endblock content_header %}
            <div class="nhsuk-grid-row">
              <div class="nhsuk-grid-column-two-thirds">
                {% block content_primary %}
                  <div class="prototype-block-highlight" style="border-color: darkred;">
                    <div style="color: darkred;">{% raw %}{% block content_primary %}{% endraw %}</div>
                    {% block content_primary_header %}
                      <div class="prototype-block-highlight" style="border-color:black; color:black;">{% raw %}{% block content_primary_header %}{% endblock content_primary_header %}{% endraw %}</div>
                    {% endblock content_primary_header %}
                    {% block content_primary_body %}
                      <div class="prototype-block-highlight" style="border-color:black; color:black;">{% raw %}{% block content_primary_body %}{% endblock content_primary_body %}{% endraw %}</div>
                    {% endblock content_primary_body %}
                    {% block content_primary_footer %}
                      <div class="prototype-block-highlight" style="border-color:black; color:black;">{% raw %}{% block content_primary_footer %}{% endblock content_primary_footer %}{% endraw %}</div>
                    {% endblock content_primary_footer %}
                    <div style="color: darkred;">{% raw %}{% endblock content_primary %}{% endraw %}</div>
                  </div>
                {% endblock content_primary %}
              </div>
              <div class="nhsuk-grid-column-one-third">
                {% block content_secondary %}
                <div class="prototype-block-highlight" style="border-color: darkred;">
                  <div style="color: darkred;">{% raw %}{% block content_secondary %}{% endraw %}</div>
                  <div style="color: darkred;">{% raw %}{% endblock content_secondary %}{% endraw %}</div>
                </div>
              {% endblock content_secondary %}
              </div>
            </div>
            {% block content_footer %}
            <div class="prototype-block-highlight" style="border-color: darkred; color: darkred;">{% raw %}{% block content_footer %}{% endblock content_footer %}{% endraw %}</div>
            {% endblock content_footer %}
            <div style="color: #4314de;">{% raw %}{% endblock content %}{% endraw %}</div>
          </div>
          {% endblock content %}
          <div style="color:orangered;">{% raw %}{% endblock main_body %}{% endraw %}</div>
        </div>
        {% endblock main_body %}
      </main>
    </div>
    <div class="prototype-block-highlight" style="border-color:orangered; color:orangered;">{% raw %}{% block main_footer %}{% endblock main_footer %}{% endraw %}</div>
    <div style="color: darkgreen;">{% raw %}{% endblock main %}{% endraw %}</div>
  </div>

  <div class="nhsuk-width-container {{ containerClasses }}">
    <div class="nhsuk-main-wrapper {{ mainclasses }}">

      <div class="nhsuk-grid-row">
        <div class="nhsuk-grid-column-two-thirds">

          <p>The blocks are nested and come with surrounding mark-up to control the layout as standard, overriding a block higher up the inheritance chain provides the opportunity disregard the provided mark-up if it does not meet your needs.</p>

          <h2 class="nhsuk-heading-l">Configuration</h2>

          <p>Layouts provided with the 111 Online version of the NHSUK Prototype Kit can also be configured, this should minimise the need to create entirely new layouts or override layout blocks.</p>
          <h3 class="nhsuk-heading-m">The 'page' configuration object</h3>
          <p>111 Online prototype layouts can be configured using a <code class="app-code">page</code> variable which is similar to 'frontmatter' used by many templating frameworks.</p>
          <p>In the follwoing example, the <code class="app-code">layout</code> object is controlling the width of the content_primary block and the content_secondary block.</p>

          {% call prototype.codeBlock() %}
            {%- raw -%}
              {% set page = {
                title: 'Page title',
                layout: {
                  width: 'one-half'
                }
              } %}
            {% endraw %}
          {%- endcall -%}

          <p>It has been designed to accept the width of the content_primary column and then automatically handle the corresponding width for content_secondary. </p>
          <p>So in the previous example, the width of the content_primary column will be one-half and the width of content_secondary column is automatically set to one-half.</p>

          <h2 class="nhsuk-heading-m">
            Layout width options
          </h2>

          {{ table({
            firstCellIsHeader: false,
            head: [
              {
                text: "Width value"
              },
              {
                text: "Content primary"
              },
              {
                text: "Content secondary"
              }
            ],
            rows: [
              [
                {
                  text: "one-third"
                },
                {
                  text: "one-third"
                },
                {
                  text: "two-thirds"
                }
              ],
              [
                {
                  text: "two-thirds"
                },
                {
                  text: "two-thirds"
                },
                {
                  text: "one-third"
                }
              ],
              [
                {
                  text: "one-half"
                },
                {
                  text: "one-half"
                },
                {
                  text: "one-half"
                }
              ],
              [
                {
                  text: "one-quarter"
                },
                {
                  text: "one-quarter"
                },
                {
                  text: "three-quarters"
                }
              ],
              [
                {
                  text: "three-quarters"
                },
                {
                  text: "three-quarters"
                },
                {
                  text: "one-quarter"
                }
              ]
            ]
          }) }}

          <h2 class="nhsuk-heading-m">
            Independant column widths and attributes
          </h2>
          <p>If you wish to control the column widths and attributes independantly you can use the following configuration.</p>

          {% call prototype.codeBlock() %}
            {%- raw %}
              {% set page = {
                title: 'Page title',
                layout: {
                  content_primary: {
                    width: 'one-half',
                    id: 'custom_id',
                    classes: 'additional-css-classes'
                  },
                  content_secondary: {
                    width: 'one-half',
                    id: 'another_custom_id'
                  }
                }
              } %}

              {% extends page.layout.file | d(layouts.base) %}

              {% block content_primary %}
                <h1 class="nhsuk-heading-xl">
                  A simple page
                </h1>
                <p>Some content</p>
              {% endblock content_primary %}
            {% endraw %}
          {% endcall %}

        </div>
      </div>

    </div>
  </div>

{% endblock main %}

{% block head %}
  {{ super() }}
  <link href="/css/highlight.css" rel="stylesheet">
{% endblock head %}
